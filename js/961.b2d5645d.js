"use strict";(globalThis["webpackChunkiess_admin_gui"]=globalThis["webpackChunkiess_admin_gui"]||[]).push([[961],{3961:(o,e,i)=>{i.r(e),i.d(e,{default:()=>L});var n=i(1758),l=i(8734),s=i(2009),t=i(2449),a=i(9731),r=i(1658),m=i(2521),c=i(5949),u=i(2099),f=i(897);const d={class:"col-12 col-sm-11"},p={class:"row justify-between items-center"},g=(0,n.Lk)("div",{class:"text-h3"},"公司品牌",-1),h={class:"row q-mb-md justify-end items-center"},w={class:"row"},C={key:1,class:"custom-no-data row justify-center items-center"},b={class:"row justify-center"},D=(0,n.Lk)("div",{class:"col-12 text-h4 text-center text-neutral-grey_02"},"請先選擇公司",-1),S={__name:"sites-brand",setup(o){const e=(0,l.Kh)({sitesCorpOptions:[],selectedSitesCorp:null,searchValue:"",isShowFormDialog:!1,formDialogTitle:"",formValues:{},isShowConfirmDialog:!1,confirmDialogInfo:{},formList:[],columns:[{name:"actions",align:"center",label:"操作"}],rows:[]});(0,n.sV)((()=>{e.sitesCorpOptions=c.Z9.filter((o=>o.haveBrand)).map((o=>({label:o.corpName,value:o.id}))),e.formList=JSON.parse(JSON.stringify(u.y1)),e.columns=[...e.columns,...f.nM],e.columns=e.columns.map((o=>("identityCode"===o.name&&(o.options=c.pN.filter((o=>"前台"===o.system))),o))),e.formList=e.formList.map((o=>("identityCode"===o.field&&(o.options=c.pN.filter((o=>"前台"===o.system))),"monthLimit"===o.field&&(o.options=JSON.parse(JSON.stringify(c.IF))),o)))}));const i=()=>{e.rows=JSON.parse(JSON.stringify(c.gd))},S=()=>{e.isShowFormDialog=!0,e.formDialogTitle="新增品牌"},y=o=>{e.isShowFormDialog=!0,e.formDialogTitle="編輯品牌",e.formValues={...o}},k=o=>{e.isShowConfirmDialog=!0,e.confirmDialogInfo={title:"刪除",content:"確定要刪除嗎？",confirmTxt:"確定",cancelTxt:"取消",onConfirm:()=>{e.isShowConfirmDialog=!1},onCancel:()=>{e.isShowConfirmDialog=!1}}},v=()=>{console.log("searchValue:",e.searchValue)},O=()=>{e.isShowFormDialog=!1,e.formValues={}},V=o=>{e.isShowFormDialog=!1,e.rows=e.rows.map((e=>(e.id===o.id&&(e={...o}),e))),e.formValues={}};return(o,l)=>{const c=(0,n.g2)("q-separator"),u=(0,n.g2)("q-input"),f=(0,n.g2)("q-icon"),F=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(F,{class:"row justify-center q-py-sm"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",d,[(0,n.Lk)("div",p,[g,(0,n.bF)(s.A,{modelValue:e.selectedSitesCorp,"onUpdate:modelValue":l[0]||(l[0]=o=>e.selectedSitesCorp=o),options:e.sitesCorpOptions,placeholder:"請選擇公司",style:{width:"170px"},onOnUpdateEvent:l[1]||(l[1]=o=>i())},null,8,["modelValue","options"])]),(0,n.bF)(c,{class:"q-mt-sm q-mb-md"}),e.selectedSitesCorp?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("div",h,[(0,n.Lk)("div",w,[(0,n.bF)(u,{modelValue:e.searchValue,"onUpdate:modelValue":l[3]||(l[3]=o=>e.searchValue=o),class:"q-mr-sm",color:"main-blue",placeholder:"搜尋",outlined:"",dense:""},{append:(0,n.k6)((()=>[(0,n.bF)(t.A,{flat:"",round:"",dense:"","prepend-icon":{name:"mdi-magnify",color:"main-blue"},onClick:l[2]||(l[2]=o=>v())})])),_:1},8,["modelValue"]),(0,n.bF)(t.A,{class:"custom-button-round",outline:"",round:"","tooltip-txt":"新增","prepend-icon":{name:"mdi-plus",color:"main-blue"},onClick:l[4]||(l[4]=o=>S())})])]),(0,n.bF)(a.A,{"class-name":"custom-table-lower","table-columns":e.columns,"table-row":e.rows,"table-sets":{actionsType:["edit","delete"]},onOnEdit:y,onOnDelete:k},null,8,["table-columns","table-row"])],64)):((0,n.uX)(),(0,n.CE)("div",C,[(0,n.Lk)("div",b,[(0,n.bF)(f,{name:"mdi-table-alert",color:"neutral-grey_03",size:"170px"}),D])]))]),e.isShowFormDialog?((0,n.uX)(),(0,n.Wv)(r.A,{key:0,"is-show-dialog":e.isShowFormDialog,"is-show-action-section":!0,title:e.formDialogTitle,"form-list":e.formList,"form-values":e.formValues,onOnClose:O,onOnSave:V},null,8,["is-show-dialog","title","form-list","form-values"])):(0,n.Q3)("",!0),e.isShowConfirmDialog?((0,n.uX)(),(0,n.Wv)(m.A,{key:1,"is-show-dialog":e.isShowConfirmDialog,title:e.confirmDialogInfo.title,content:e.confirmDialogInfo.content,"confirm-txt":e.confirmDialogInfo.confirmTxt,"cancel-txt":e.confirmDialogInfo.cancelTxt,onOnCancel:e.confirmDialogInfo.onCancel,onOnConfirm:e.confirmDialogInfo.onConfirm},null,8,["is-show-dialog","title","content","confirm-txt","cancel-txt","onOnCancel","onOnConfirm"])):(0,n.Q3)("",!0)])),_:1})}}};var y=i(7716),k=i(386),v=i(7837),O=i(492),V=i(8582),F=i.n(V);const x=S,L=x;F()(S,"components",{QPage:y.A,QSeparator:k.A,QInput:v.A,QIcon:O.A})}}]);